import{_ as D}from"./DoouizDA.js";import{v as P,q as O,K as i,as as S,d as q,H as b,J,b as u,D as y,w as p,L as N,M,g as _,a8 as T,a9 as W,N as w,c as x,P as L,e as F,F as C,s as H,S as V,ac as K,ad as X,W as Y}from"./D5zTXdpo.js";import{_ as G}from"./DU9-XMAR.js";const I=()=>{const f=P(),t=O("jobs",()=>[]),o=e=>{switch(e){case"ONLY":return"Remote Only";case"ALLOWED":return"Remote Allowed";default:return"Onsite"}};async function m(){if(t.value.length)return;const e=await $fetch("https://api.nuxt.com/jobs");t.value=e.map(a=>({...a,remote:o(a.remote),published_at:S(a.published_at)}))}const v=i(()=>[...t.value].filter(e=>!(r.value&&!e.locations.includes(r.value.key)||l.value&&e.remote!==l.value.key))),d=i(()=>{var a;const e=((a=t.value)==null?void 0:a.map(n=>n.locations).flat())||[];return[...new Set(e)].map(n=>({key:n,label:n})).sort((n,g)=>n.label.localeCompare(g.label))}),s=i(()=>{var a;const e=(a=t.value)==null?void 0:a.map(n=>n.remote);return[...new Set(e)].map(n=>({key:n,label:n}))}),r=i(()=>d.value.find(e=>e.key===f.query.location)),l=i(()=>s.value.find(e=>e.key===f.query.type));return{fetchList:m,filteredJobs:v,locations:d,types:s,selectedLocation:r,selectedType:l}},Q={class:"flex flex-wrap gap-3"},te=q({__name:"jobs",async setup(f){var e,a;let t,o;const m=P(),{fetchList:v,filteredJobs:d}=I(),{data:s}=([t,o]=b(()=>N(m.path,()=>H(m.path).findOne(),"$EhvyMWkXgp")),t=await t,o(),t),r=((e=s.value.head)==null?void 0:e.title)||s.value.title,l=((a=s.value.head)==null?void 0:a.description)||s.value.description;return J({titleTemplate:"%s · Enterprise",title:r,description:l,ogDescription:l,ogTitle:`${r} · Enterprise`}),[t,o]=b(()=>v()),await t,o(),(n,g)=>{const U=D,$=V,h=K,B=X,E=G,R=Y,z=M;return u(),y(z,null,{default:p(()=>[_(U,T(W(w(s))),null,16),_(R,{id:"smooth",class:"pt-20 -mt-20"},{default:p(()=>[_(E,{class:"space-y-8"},{default:p(()=>[(u(!0),x(C,null,L(w(d),(c,A)=>(u(),y(B,{key:A,to:c.link,title:c.title,description:c.description,ui:{divide:"",footer:{padding:"pt-0"},title:"text-lg"}},{icon:p(()=>[_($,{src:c.organization.avatar,size:"lg"},null,8,["src"])]),footer:p(()=>[F("div",Q,[(u(!0),x(C,null,L(c.locations,k=>(u(),y(h,{key:k,label:k,size:"lg",variant:"subtle"},null,8,["label"]))),128)),_(h,{label:c.remote,size:"lg",variant:"subtle"},null,8,["label"])])]),_:2},1032,["to","title","description"]))),128))]),_:1})]),_:1})]),_:1})}}});export{te as default};
