{"_path":"/docs/guide/concepts/server-engine","_dir":"concepts","_draft":false,"_partial":false,"_locale":"","title":"Server Engine","description":"Nuxt 3 is powered by a new server engine: Nitro.","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"While building Nuxt 3, we created a new server engine: "},{"type":"element","tag":"a","props":{"href":"https://nitro.unjs.io","rel":["nofollow"]},"children":[{"type":"text","value":"Nitro"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It is shipped with many features:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Cross-platform support for Node.js, Browsers, service-workers and more."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Serverless support out-of-the-box."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"API routes support."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Automatic code-splitting and async-loaded chunks."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Hybrid mode for static + serverless sites."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Development server with hot module reloading."}]}]},{"type":"element","tag":"h2","props":{"id":"api-layer"},"children":[{"type":"text","value":"API Layer"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Server "},{"type":"element","tag":"a","props":{"href":"/docs/guide/directory-structure/server#api-routes"},"children":[{"type":"text","value":"API endpoints"}]},{"type":"text","value":" and "},{"type":"element","tag":"a","props":{"href":"/docs/guide/directory-structure/server#server-middleware"},"children":[{"type":"text","value":"Middleware"}]},{"type":"text","value":" are added by Nitro that internally uses "},{"type":"element","tag":"a","props":{"href":"https://github.com/unjs/h3","rel":["nofollow"]},"children":[{"type":"text","value":"h3"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Key features include:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Handlers can directly return objects/arrays for an automatically-handled JSON response"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Handlers can return promises, which will be awaited ("},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"res.end()"}]},{"type":"text","value":" and "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"next()"}]},{"type":"text","value":" are also supported)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Helper functions for body parsing, cookie handling, redirects, headers and more"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Check out "},{"type":"element","tag":"a","props":{"href":"https://github.com/unjs/h3","rel":["nofollow"]},"children":[{"type":"text","value":"the h3 docs"}]},{"type":"text","value":" for more information."}]},{"type":"element","tag":"read-more","props":{"to":"/docs/guide/directory-structure/server#server-routes"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Learn more about the API layer in the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"server/"}]},{"type":"text","value":" directory."}]}]},{"type":"element","tag":"h2","props":{"id":"direct-api-calls"},"children":[{"type":"text","value":"Direct API Calls"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nitro allows 'direct' calling of routes via the globally-available "},{"type":"element","tag":"a","props":{"href":"/docs/api/utils/dollarfetch"},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"$fetch"}]}]},{"type":"text","value":" helper. This will make an API call to the server if run on the browser, but will directly call the relevant function if run on the server, "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"saving an additional API call"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/docs/api/utils/dollarfetch"},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"$fetch"}]}]},{"type":"text","value":" API is using "},{"type":"element","tag":"a","props":{"href":"https://github.com/unjs/ofetch","rel":["nofollow"]},"children":[{"type":"text","value":"ofetch"}]},{"type":"text","value":", with key features including:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Automatic parsing of JSON responses (with access to raw response if needed)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Request body and params are automatically handled, with correct "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Content-Type"}]},{"type":"text","value":" headers"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For more information on "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"$fetch"}]},{"type":"text","value":" features, check out "},{"type":"element","tag":"a","props":{"href":"https://github.com/unjs/ofetch","rel":["nofollow"]},"children":[{"type":"text","value":"ofetch"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h2","props":{"id":"typed-api-routes"},"children":[{"type":"text","value":"Typed API Routes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When using API routes (or middleware), Nitro will generate typings for these routes as long as you are returning a value instead of using "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"res.end()"}]},{"type":"text","value":" to send a response."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can access these types when using "},{"type":"element","tag":"a","props":{"href":"/docs/api/utils/dollarfetch"},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"$fetch()"}]}]},{"type":"text","value":" or "},{"type":"element","tag":"a","props":{"href":"/docs/api/composables/use-fetch"},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"useFetch()"}]}]},{"type":"text","value":"."}]},{"type":"element","tag":"h2","props":{"id":"standalone-server"},"children":[{"type":"text","value":"Standalone Server"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nitro produces a standalone server dist that is independent of "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"node_modules"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The server in Nuxt 2 is not standalone and requires part of Nuxt core to be involved by running "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nuxt start"}]},{"type":"text","value":" (with the "},{"type":"element","tag":"a","props":{"href":"https://www.npmjs.com/package/nuxt-start","rel":["nofollow"]},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nuxt-start"}]}]},{"type":"text","value":" or "},{"type":"element","tag":"a","props":{"href":"https://www.npmjs.com/package/nuxt","rel":["nofollow"]},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nuxt"}]}]},{"type":"text","value":" distributions) or custom programmatic usage, which is fragile and prone to breakage and not suitable for serverless and service-worker environments."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt 3 generates this dist when running "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nuxt build"}]},{"type":"text","value":" into a "},{"type":"element","tag":"a","props":{"href":"/docs/guide/directory-structure/output"},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".output"}]}]},{"type":"text","value":" directory."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The output contains runtime code to run your Nuxt server in any environment (including experimental browser service workers!) and serve your static files, making it a true hybrid framework for the JAMstack. In addition, Nuxt implements a native storage layer, supporting multi-source drivers and local assets."}]},{"type":"element","tag":"read-more","props":{"to":"https://github.com/unjs/nitro","color":"gray","icon":"i-simple-icons-github","target":"_blank"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Read more about Nitro engine on GitHub."}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"api-layer","depth":2,"text":"API Layer"},{"id":"direct-api-calls","depth":2,"text":"Direct API Calls"},{"id":"typed-api-routes","depth":2,"text":"Typed API Routes"},{"id":"standalone-server","depth":2,"text":"Standalone Server"}]}},"_type":"markdown","_id":"nuxt-docs:1.docs:2.guide:1.concepts:4.server-engine.md","_source":"nuxt-docs","_file":"1.docs/2.guide/1.concepts/4.server-engine.md","_extension":"md"}