{"_path":"/docs/guide/directory-structure/env","_dir":"directory-structure","_draft":false,"_partial":false,"_locale":"","title":".env","description":"A .env file specifies your build/dev-time environment variables.","head":{"title":".env"},"navigation":{"icon":"i-ph-file-duotone"},"body":{"type":"root","children":[{"type":"element","tag":"important","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This file should be added to your "},{"type":"element","tag":"a","props":{"href":"/docs/guide/directory-structure/gitignore"},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".gitignore"}]}]},{"type":"text","value":" file to avoid pushing secrets to your repository."}]}]},{"type":"element","tag":"h2","props":{"id":"dev-build-and-generate-time"},"children":[{"type":"text","value":"Dev, Build and Generate Time"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt CLI has built-in "},{"type":"element","tag":"a","props":{"href":"https://github.com/motdotla/dotenv","rel":["nofollow"]},"children":[{"type":"text","value":"dotenv"}]},{"type":"text","value":" support in development mode and when running "},{"type":"element","tag":"a","props":{"href":"/docs/api/commands/build"},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nuxi build"}]}]},{"type":"text","value":" and "},{"type":"element","tag":"a","props":{"href":"/docs/api/commands/generate"},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nuxi generate"}]}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In addition to any process environment variables, if you have a "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".env"}]},{"type":"text","value":" file in your project root directory, it will be automatically loaded "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"at dev, build and generate time"}]},{"type":"text","value":". Any environment variables set there will be accessible within your "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nuxt.config"}]},{"type":"text","value":" file and modules."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"MY_ENV_VARIABLE=hello\n","filename":".env","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":"MY_ENV_VARIABLE"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":"hello\n"}]}]}]}]},{"type":"element","tag":"note","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note that removing a variable from "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".env"}]},{"type":"text","value":" or removing the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".env"}]},{"type":"text","value":" file entirely will not unset values that have already been set."}]}]},{"type":"element","tag":"h2","props":{"id":"custom-file"},"children":[{"type":"text","value":"Custom File"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you want to use a different file - for example, to use "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".env.local"}]},{"type":"text","value":" or "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".env.production"}]},{"type":"text","value":" - you can do so by passing the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"--dotenv"}]},{"type":"text","value":" flag when using "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nuxi"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"npx nuxi dev --dotenv .env.local\n","filename":"Terminal","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B"},"children":[{"type":"text","value":"npx"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":" nuxi"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":" dev"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":" --dotenv"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":" .env.local\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When updating "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".env"}]},{"type":"text","value":" in development mode, the Nuxt instance is automatically restarted to apply new values to the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"process.env"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h2","props":{"id":"production"},"children":[{"type":"text","value":"Production"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"After your server is built"}]},{"type":"text","value":", you are responsible for setting environment variables when you run the server."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Your "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".env"}]},{"type":"text","value":" files will not be read at this point. How you do this is different for every environment."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This design decision was made to ensure compatibility across various deployment environments, some of which may not have a traditional file system available, such as serverless platforms or edge networks like Cloudflare Workers."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Since "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".env"}]},{"type":"text","value":" files are not used in production, you must explicitly set environment variables using the tools and methods provided by your hosting environment. Here are some common approaches:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"You can pass the environment variables as arguments using the terminal:"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"$ DATABASE_HOST=mydatabaseconnectionstring node .output/server/index.mjs"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"You can set environment variables in shell configuration files like "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".bashrc"}]},{"type":"text","value":" or "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".profile"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Many cloud service providers, such as Vercel, Netlify, and AWS, provide interfaces for setting environment variables via their dashboards, CLI tools or configuration files."}]}]},{"type":"element","tag":"h2","props":{"id":"production-preview"},"children":[{"type":"text","value":"Production Preview"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For local production preview purpose, we recommend using "},{"type":"element","tag":"a","props":{"href":"/docs/api/commands/preview"},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nuxi preview"}]}]},{"type":"text","value":" since using this command, the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".env"}]},{"type":"text","value":" file will be loaded into "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"process.env"}]},{"type":"text","value":" for convenience. Note that this command requires dependencies to be installed in the package directory."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Or you could pass the environment variables as arguments using the terminal. For example, on Linux or macOS:"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"DATABASE_HOST=mydatabaseconnectionstring node .output/server/index.mjs\n","filename":"Terminal","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":"DATABASE_HOST"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":"mydatabaseconnectionstring"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B"},"children":[{"type":"text","value":" node"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":" .output/server/index.mjs\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note that for a purely static site, it is not possible to set runtime configuration config after your project is prerendered."}]},{"type":"element","tag":"read-more","props":{"to":"/docs/guide/going-further/runtime-config"},"children":[]},{"type":"element","tag":"note","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you want to use environment variables set at build time but do not care about updating these down the line (or only need to update them reactively "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"within"}]},{"type":"text","value":" your app) then "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"appConfig"}]},{"type":"text","value":" may be a better choice. You can define "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"appConfig"}]},{"type":"text","value":" both within your "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nuxt.config"}]},{"type":"text","value":" (using environment variables) and also within an "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/app.config.ts"}]},{"type":"text","value":" file in your project."}]},{"type":"element","tag":"read-more","props":{"to":"/docs/guide/directory-structure/app-config"},"children":[]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"dev-build-and-generate-time","depth":2,"text":"Dev, Build and Generate Time"},{"id":"custom-file","depth":2,"text":"Custom File"},{"id":"production","depth":2,"text":"Production"},{"id":"production-preview","depth":2,"text":"Production Preview"}]}},"_type":"markdown","_id":"nuxt-docs:1.docs:2.guide:2.directory-structure:2.env.md","_source":"nuxt-docs","_file":"1.docs/2.guide/2.directory-structure/2.env.md","_extension":"md"}