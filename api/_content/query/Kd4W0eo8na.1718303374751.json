{"_path":"/docs/guide/going-further/nuxt-app","_dir":"going-further","_draft":false,"_partial":false,"_locale":"","title":"NuxtApp","description":"In Nuxt 3, you can access runtime app context within composables, components and plugins.","links":[{"label":"Source","icon":"i-simple-icons-github","to":"https://github.com/nuxt/nuxt/blob/main/packages/nuxt/src/app/nuxt.ts"}],"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In Nuxt 3, you can access runtime app context within composables, components and plugins."}]},{"type":"element","tag":"read-more","props":{"to":"https://v2.nuxt.com/docs/internals-glossary/context#the-context","target":"_blank"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In Nuxt 2, this was referred to as "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Nuxt context"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"h2","props":{"id":"nuxt-app-interface"},"children":[{"type":"text","value":"Nuxt App Interface"}]},{"type":"element","tag":"read-more","props":{"to":"/docs/guide/going-further/internals#the-nuxtapp-interface"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Jump over the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"NuxtApp"}]},{"type":"text","value":" interface documentation."}]}]},{"type":"element","tag":"h2","props":{"id":"the-nuxt-context"},"children":[{"type":"text","value":"The Nuxt Context"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Many composables and utilities, both built-in and user-made, may require access to the Nuxt instance. This doesn't exist everywhere on your application, because a fresh instance is created on every request."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Currently, the Nuxt context is only accessible in "},{"type":"element","tag":"a","props":{"href":"/docs/guide/directory-structure/plugins"},"children":[{"type":"text","value":"plugins"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"/docs/guide/going-further/hooks"},"children":[{"type":"text","value":"Nuxt hooks"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"/docs/guide/directory-structure/middleware"},"children":[{"type":"text","value":"Nuxt middleware"}]},{"type":"text","value":", and "},{"type":"element","tag":"a","props":{"href":"https://vuejs.org/api/composition-api-setup.html","rel":["nofollow"]},"children":[{"type":"text","value":"setup functions"}]},{"type":"text","value":" (in pages and components)."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If a composable is called without access to the context, you may get an error stating that 'A composable that requires access to the Nuxt instance was called outside of a plugin, Nuxt hook, Nuxt middleware, or Vue setup function.' In that case, you can also explicitly call functions within this context by using "},{"type":"element","tag":"a","props":{"href":"/docs/api/composables/use-nuxt-app#runwithcontext"},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nuxtApp.runWithContext"}]}]},{"type":"text","value":"."}]},{"type":"element","tag":"h2","props":{"id":"accessing-nuxtapp"},"children":[{"type":"text","value":"Accessing NuxtApp"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Within composables, plugins and components you can access "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nuxtApp"}]},{"type":"text","value":" with "},{"type":"element","tag":"a","props":{"href":"/docs/api/composables/use-nuxt-app"},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"useNuxtApp()"}]}]},{"type":"text","value":":"}]},{"type":"element","tag":"pre","props":{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export function useMyComposable () {\n  const nuxtApp = useNuxtApp()\n  // access runtime nuxt app instance\n}\n","filename":"composables/useMyComposable.ts","language":"ts","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA"},"children":[{"type":"text","value":" function"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF"},"children":[{"type":"text","value":" useMyComposable"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":" ()"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA"},"children":[{"type":"text","value":"  const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":" nuxtApp"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF"},"children":[{"type":"text","value":" useNuxtApp"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#676E95;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"  // access runtime nuxt app instance\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If your composable does not always need "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nuxtApp"}]},{"type":"text","value":" or you simply want to check if it is present or not, since "},{"type":"element","tag":"a","props":{"href":"/docs/api/composables/use-nuxt-app"},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"useNuxtApp"}]}]},{"type":"text","value":" throws an exception, you can use "},{"type":"element","tag":"a","props":{"href":"/docs/api/composables/use-nuxt-app#tryusenuxtapp"},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"tryUseNuxtApp"}]}]},{"type":"text","value":" instead."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Plugins also receive "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nuxtApp"}]},{"type":"text","value":" as the first argument for convenience."}]},{"type":"element","tag":"read-more","props":{"to":"/docs/guide/directory-structure/plugins"},"children":[]},{"type":"element","tag":"h2","props":{"id":"providing-helpers"},"children":[{"type":"text","value":"Providing Helpers"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can provide helpers to be usable across all composables and application. This usually happens within a Nuxt plugin."}]},{"type":"element","tag":"pre","props":{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"const nuxtApp = useNuxtApp()\nnuxtApp.provide('hello', (name) => `Hello ${name}!`)\n\nconsole.log(nuxtApp.$hello('name')) // Prints \"Hello name!\"\n","language":"ts","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":" nuxtApp "}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF"},"children":[{"type":"text","value":" useNuxtApp"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":"nuxtApp"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF"},"children":[{"type":"text","value":"provide"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":"hello"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA"},"children":[{"type":"text","value":" =>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":" `"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":"Hello "}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"${"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":"!"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"`"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":"console"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":"(nuxtApp"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF"},"children":[{"type":"text","value":"$hello"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":")) "}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#676E95;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"// Prints \"Hello name!\"\n"}]}]}]}]},{"type":"element","tag":"read-more","props":{"to":"/docs/guide/directory-structure/plugins#providing-helpers"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It is possible to inject helpers by returning an object with a "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"provide"}]},{"type":"text","value":" key in plugins."}]}]},{"type":"element","tag":"read-more","props":{"to":"https://v2.nuxt.com/docs/directory-structure/plugins#inject-in-root--context","target":"_blank"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In Nuxt 2 plugins, this was referred to as "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"inject function"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"nuxt-app-interface","depth":2,"text":"Nuxt App Interface"},{"id":"the-nuxt-context","depth":2,"text":"The Nuxt Context"},{"id":"accessing-nuxtapp","depth":2,"text":"Accessing NuxtApp"},{"id":"providing-helpers","depth":2,"text":"Providing Helpers"}]}},"_type":"markdown","_id":"nuxt-docs:1.docs:2.guide:3.going-further:6.nuxt-app.md","_source":"nuxt-docs","_file":"1.docs/2.guide/3.going-further/6.nuxt-app.md","_extension":"md"}