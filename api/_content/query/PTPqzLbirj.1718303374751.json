{"_path":"/blog/v3-4","_dir":"blog","_draft":false,"_partial":false,"_locale":"","title":"Nuxt 3.4","description":"Nuxt 3.4.0 is the latest release of Nuxt 3, bringing exciting new features, including support for the View Transitions API, transferring rich JavaScript payloads from server to client - and much more.","image":"/assets/blog/v3-4.png","authors":[{"name":"Daniel Roe","avatarUrl":"https://github.com/danielroe.png","link":"https://twitter.com/danielcroe","twitter":"danielcroe"}],"date":"2023-04-11T00:00:00.000Z","category":"Release","body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"view-transitions-api-support"},"children":[{"type":"text","value":"🪄 View Transitions API Support"}]},{"type":"element","tag":"video-player","props":{"poster":"https://res.cloudinary.com/nuxt/video/upload/v1681229056/nuxt3/nuxt-view-transitions_cruvma.jpg","src":"https://res.cloudinary.com/nuxt/video/upload/v1681229056/nuxt3/nuxt-view-transitions_cruvma.mp4"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can check a demo on "},{"type":"element","tag":"a","props":{"href":"https://nuxt-view-transitions.surge.sh","rel":["nofollow"]},"children":[{"type":"text","value":"https://nuxt-view-transitions.surge.sh"}]},{"type":"text","value":" and the "},{"type":"element","tag":"a","props":{"href":"https://stackblitz.com/edit/nuxt-view-transitions","rel":["nofollow"]},"children":[{"type":"text","value":"source on StackBlitz"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You may have noticed that Chromium-based browsers now ship a new web platform API: the "},{"type":"element","tag":"a","props":{"href":"https://developer.chrome.com/docs/web-platform/view-transitions/","rel":["nofollow"]},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"View Transitions API"}]}]},{"type":"text","value":". This is an exciting new ability for native browser transitions which (among other things) have the ability to transition between unrelated elements on different pages."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt now ships with an experimental implementation, which will be under active development during the v3.4 release cycle. See the known issues in the "},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/pull/20092","rel":["nofollow"]},"children":[{"type":"text","value":"linked PR"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    viewTransition: true\n  }\n})\n","language":"ts","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":" default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF"},"children":[{"type":"text","value":" defineNuxtConfig"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178"},"children":[{"type":"text","value":"  experimental"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178"},"children":[{"type":"text","value":"    viewTransition"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#FF5370;--shiki-default:#FF5370;--shiki-dark:#FF9CAC"},"children":[{"type":"text","value":" true\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":")\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"payload-enhancements"},"children":[{"type":"text","value":"✨ Payload Enhancements"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We've merged a "},{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/pull/19205","rel":["nofollow"]},"children":[{"type":"text","value":"significant change to how Nuxt handles payloads"}]}]},{"type":"text","value":" (under an experimental flag). Payloads are used to send data from the server to the client when doing server-side rendering and avoid double data-fetching during the hydration phase."}]},{"type":"element","tag":"pre","props":{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  experimental: {\n    renderJsonPayloads: true\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":" default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF"},"children":[{"type":"text","value":" defineNuxtConfig"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178"},"children":[{"type":"text","value":"  experimental"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178"},"children":[{"type":"text","value":"    renderJsonPayloads"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#FF5370;--shiki-default:#FF5370;--shiki-dark:#FF9CAC"},"children":[{"type":"text","value":" true\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":")\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"With this new option enabled, this now means that "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"various rich JS types are supported out-of-the-box"}]},{"type":"text","value":": regular expressions, dates, Map and Set and BigInt as well as NuxtError - and Vue-specific objects like "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ref"}]},{"type":"text","value":", "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"reactive"}]},{"type":"text","value":", "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"shallowRef"}]},{"type":"text","value":" and "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"shallowReactive"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can find "},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/blob/main/test/fixtures/basic/pages/json-payload.vue","rel":["nofollow"]},"children":[{"type":"text","value":"an example"}]},{"type":"text","value":" in our test suite."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is all possible due to "},{"type":"element","tag":"a","props":{"href":"https://github.com/Rich-Harris/devalue/pull/58","rel":["nofollow"]},"children":[{"type":"text","value":"Rich-Harris/devalue#58"}]},{"type":"text","value":". For a long time, Nuxt has been using our own fork of devalue owing to issues serialising Errors and other non-POJO objects, but we now have transitioned back to the original."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can even register your own custom types with a new object-syntax Nuxt plugin:"}]},{"type":"element","tag":"pre","props":{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default definePayloadPlugin(() => {\n  definePayloadReducer('BlinkingText', data => data === '<original-blink>' && '_')\n  definePayloadReviver('BlinkingText', () => '<revivified-blink>')\n})\n","filename":"plugins/custom-payload-type.ts","language":"ts","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":" default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF"},"children":[{"type":"text","value":" definePayloadPlugin"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"()"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA"},"children":[{"type":"text","value":" =>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF"},"children":[{"type":"text","value":"  definePayloadReducer"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":"BlinkingText"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":" data"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA"},"children":[{"type":"text","value":" =>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":" data"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":" ==="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":" '"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":"<original-blink>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":" &&"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":" '"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":"_"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF"},"children":[{"type":"text","value":"  definePayloadReviver"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":"BlinkingText"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":" ()"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA"},"children":[{"type":"text","value":" =>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":" '"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":"<revivified-blink>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":")\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can read more about how this works "},{"type":"element","tag":"a","props":{"href":"https://github.com/rich-harris/devalue#custom-types","rel":["nofollow"]},"children":[{"type":"text","value":"here"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Note"}]},{"type":"text","value":": this only affects payloads of the Nuxt app, that is, data stored within "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"useState"}]},{"type":"text","value":", returned from "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"useAsyncData"}]},{"type":"text","value":" or manually injected via "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nuxtApp.payload"}]},{"type":"text","value":". It does not affect data fetched from Nitro server routes via "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"$fetch"}]},{"type":"text","value":" or "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"useFetch"}]},{"type":"text","value":" although this is one area I am keen to explore further."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Preliminary testing shows a significant speed-up: "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"25% faster in total server response time"}]},{"type":"text","value":" for a very minimal app with a large JSON payload, but I'd urge you to run your own tests and share the results with us."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As mentioned, we're merging this behind a flag so we can test this broadly and gather feedback on the new approach. The most significant potential change is that the payload is now no longer available on "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"window.__NUXT__"}]},{"type":"text","value":" immediately. Instead, we now need to initialise the Nuxt app to parse the payload so any code that accesses "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"__NUXT__"}]},{"type":"text","value":" will need to be run in a plugin or later in the Nuxt app lifecycle. Please feel free to raise an issue if you foresee or encounter issues in your projects."}]},{"type":"element","tag":"h2","props":{"id":"object-syntax-nuxt-plugins"},"children":[{"type":"text","value":"🎁 Object-syntax Nuxt plugins"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We now support object-syntax Nuxt plugins for better control over plugin "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"order"}]},{"type":"text","value":" and easier registration of hooks."}]},{"type":"element","tag":"pre","props":{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtPlugin({\n  name: 'my-plugin',\n  enforce: 'pre', // or 'post'\n  async setup (nuxtApp) {\n    // this is the equivalent of a normal functional plugin\n  },\n  hooks: {\n    // You can directly register Nuxt app hooks here\n    'app:created'() {\n      const nuxtApp = useNuxtApp()\n      //\n    }\n  }\n})\n","filename":"plugins/my-plugin.ts","language":"ts","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":" default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF"},"children":[{"type":"text","value":" defineNuxtPlugin"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178"},"children":[{"type":"text","value":"  name"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":" '"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":"my-plugin"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178"},"children":[{"type":"text","value":"  enforce"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":" '"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":"pre"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#676E95;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":" // or 'post'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA"},"children":[{"type":"text","value":"  async"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178"},"children":[{"type":"text","value":" setup"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"nuxtApp"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#676E95;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"    // this is the equivalent of a normal functional plugin\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178"},"children":[{"type":"text","value":"  hooks"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#676E95;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"    // You can directly register Nuxt app hooks here\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"    '"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":"app:created"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"()"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA"},"children":[{"type":"text","value":"      const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":" nuxtApp"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF"},"children":[{"type":"text","value":" useNuxtApp"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#676E95;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"      //\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":")\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In future we plan to enable build optimizations based on the metadata you pass in your Nuxt plugins."}]},{"type":"element","tag":"h2","props":{"id":"️-easier-devtools-configuration"},"children":[{"type":"text","value":"🛠️ Easier Devtools Configuration"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It's even easier to enable Nuxt DevTools in your project: just set "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"devtools: true"}]},{"type":"text","value":" in your "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nuxt.config"}]},{"type":"text","value":" file to enable devtools."}]},{"type":"element","tag":"pre","props":{"className":"language-js shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  devtools: true\n})\n","filename":"nuxt.config.ts","language":"js","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":" default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF"},"children":[{"type":"text","value":" defineNuxtConfig"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178"},"children":[{"type":"text","value":"  devtools"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#FF5370;--shiki-default:#FF5370;--shiki-dark:#FF9CAC"},"children":[{"type":"text","value":" true\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":")\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If it's not already installed, Nuxt will prompt to install it locally. This means you no longer need to have Nuxt DevTools enabled globally."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Note"}]},{"type":"text","value":": the DevTools is still experimental and under active development, so do be prepared for occasional unexpected behaviour, and please report issues directly to "},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/devtools","rel":["nofollow"]},"children":[{"type":"text","value":"https://github.com/nuxt/devtools"}]},{"type":"text","value":" 🙏"}]},{"type":"element","tag":"h2","props":{"id":"layers-improvements"},"children":[{"type":"text","value":"📚 Layers Improvements"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We now support "},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/pull/19986","rel":["nofollow"]},"children":[{"type":"text","value":"transforming "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~"}]},{"type":"text","value":"/"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~~"}]},{"type":"text","value":"/"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"@"}]},{"type":"text","value":"/"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"@@"}]},{"type":"text","value":" aliases within layers"}]},{"type":"text","value":", meaning you now no longer need to use relative paths when importing within layers."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This should mean it is much easier to use a 'normal' Nuxt project as a "},{"type":"element","tag":"a","props":{"href":"https://nuxt.com/docs/getting-started/layers#layers","rel":["nofollow"]},"children":[{"type":"text","value":"layer"}]},{"type":"text","value":" without needing to specially write it as one."}]},{"type":"element","tag":"h2","props":{"id":"better-context-transforms"},"children":[{"type":"text","value":"🧸 Better Context Transforms"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We "},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/pull/20182","rel":["nofollow"]},"children":[{"type":"text","value":"now transform certain keys"}]},{"type":"text","value":" of "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"definePageMeta"}]},{"type":"text","value":" and "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"defineNuxtComponent"}]},{"type":"text","value":" which means you should have fewer issues with a missing Nuxt instance. This includes support accessing the Nuxt instance after an "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"await"}]},{"type":"text","value":" within "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"asyncData"}]},{"type":"text","value":" and "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"setup"}]},{"type":"text","value":" functions for those still using the Options API. And you no longer need to wrap "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"middleware"}]},{"type":"text","value":" and "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"validate"}]},{"type":"text","value":" with "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"defineNuxtRouteMiddleware"}]},{"type":"text","value":" when using async functions."}]},{"type":"element","tag":"h2","props":{"id":"️-ecosystem-updates"},"children":[{"type":"text","value":"♻️ Ecosystem Updates"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As usual, this release will pull in upstream improvements, including the new "},{"type":"element","tag":"a","props":{"href":"https://github.com/unjs/consola","rel":["nofollow"]},"children":[{"type":"text","value":"Consola v3"}]},{"type":"text","value":" and "},{"type":"element","tag":"a","props":{"href":"https://github.com/unjs/nitro","rel":["nofollow"]},"children":[{"type":"text","value":"Nitropack v2.3.3"}]},{"type":"text","value":" (a new minor is expected shortly)."}]},{"type":"element","tag":"h2","props":{"id":"breaking-fixes"},"children":[{"type":"text","value":"🚨 'Breaking fixes'"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We've also taken the opportunity to do some cleanup in this minor release."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Previously it was possible to pass the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"x-nuxt-no-ssr"}]},{"type":"text","value":" header (undocumented) to force SPA rendering. We've now disabled this behaviour by default but you can get it back by setting "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"experimental.respectNoSSRHeader"}]},{"type":"text","value":" to true. Alternatively, you can set "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"event.context.nuxt.noSSR"}]},{"type":"text","value":" on the server to force SPA rendering."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"We've "},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/pull/20111","rel":["nofollow"]},"children":[{"type":"text","value":"removed the (deprecated) "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"#head"}]},{"type":"text","value":" alias"}]},{"type":"text","value":" and also disabled the "},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/pull/20131","rel":["nofollow"]},"children":[{"type":"text","value":"polyfill for "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"@vueuse/head"}]},{"type":"text","value":" behaviour"}]},{"type":"text","value":" by default. (It can still be enabled with "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"experimental.polyfillVueUseHead"}]},{"type":"text","value":".)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"We've "},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/pull/20112","rel":["nofollow"]},"children":[{"type":"text","value":"removed the (deprecated) "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"experimental.viteNode"}]},{"type":"text","value":" option"}]},{"type":"text","value":". It can be configured instead with "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"vite.devBundler"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"We've "},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/pull/20082","rel":["nofollow"]},"children":[{"type":"text","value":"deprecated accessing public runtime config without the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" key"}]},{"type":"text","value":". This was an undocument compatibility measure with Nuxt 2 and we plan to remove it entirely in v3.5."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"To fix a bug with our vue-router integration, we now generate a slightly different path matching syntax. If you were relying on the exact path generated, have a look at "},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/pull/19902","rel":["nofollow"]},"children":[{"type":"text","value":"https://github.com/nuxt/nuxt/pull/19902"}]},{"type":"text","value":" for more information."}]}]},{"type":"element","tag":"h2","props":{"id":"upgrading"},"children":[{"type":"text","value":"✅ Upgrading"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As usual, our recommendation for upgrading is to run:"}]},{"type":"element","tag":"pre","props":{"className":"language-sh shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"npx nuxi upgrade --force\n","language":"sh","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B"},"children":[{"type":"text","value":"npx"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":" nuxi"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":" upgrade"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":" --force\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This will refresh your lockfile as well, and ensures that you pull in updates from other dependencies that Nuxt relies on, particularly in the unjs ecosystem."}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"view-transitions-api-support","depth":2,"text":"🪄 View Transitions API Support"},{"id":"payload-enhancements","depth":2,"text":"✨ Payload Enhancements"},{"id":"object-syntax-nuxt-plugins","depth":2,"text":"🎁 Object-syntax Nuxt plugins"},{"id":"️-easier-devtools-configuration","depth":2,"text":"🛠️ Easier Devtools Configuration"},{"id":"layers-improvements","depth":2,"text":"📚 Layers Improvements"},{"id":"better-context-transforms","depth":2,"text":"🧸 Better Context Transforms"},{"id":"️-ecosystem-updates","depth":2,"text":"♻️ Ecosystem Updates"},{"id":"breaking-fixes","depth":2,"text":"🚨 'Breaking fixes'"},{"id":"upgrading","depth":2,"text":"✅ Upgrading"}]}},"_type":"markdown","_id":"content:7.blog:11.v3-4.md","_source":"content","_file":"7.blog/11.v3-4.md","_extension":"md"}