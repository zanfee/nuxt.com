{"_path":"/blog/v3-3","_dir":"blog","_draft":false,"_partial":false,"_locale":"","title":"Nuxt 3.3","description":"The 3.3.0 is a minor (feature) release with lots of performance and DX improvements, bug fixes and new features to play with.","image":"/assets/blog/v3-3.png","authors":[{"name":"Daniel Roe","avatarUrl":"https://github.com/danielroe.png","link":"https://twitter.com/danielcroe","twitter":"danielcroe"}],"date":"2023-03-14T00:00:00.000Z","category":"Release","body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"local-module-development-dx"},"children":[{"type":"text","value":"‚ú® Local module development DX"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We've landed a raft of changes to enable local modules and improve DX."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We now auto-scan your "},{"type":"element","tag":"a","props":{"href":"/docs/guide/directory-structure/modules"},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/modules"}]}]},{"type":"text","value":" folder and register top level files there as modules in your project ("},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/pull/19394","rel":["nofollow"]},"children":[{"type":"text","value":"#19394"}]},{"type":"text","value":")."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When these files are changed, we'll automatically restart the nuxt server."}]},{"type":"element","tag":"pre","props":{"className":"language-diff shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"export default defineNuxtConfig({\n  modules: [\n    '@nuxtjs/tailwindcss',\n-   '~/modules/purge-comments'\n  ]\n})\n","language":"diff","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":"export default defineNuxtConfig({\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":"  modules: [\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":"    '@nuxtjs/tailwindcss',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178"},"children":[{"type":"text","value":"   '~/modules/purge-comments'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":"  ]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":"})\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We also now expose "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nuxt/kit"}]},{"type":"text","value":" for easy access to kit composables in your local project without having to install "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"@nuxt/kit"}]},{"type":"text","value":" ("},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/pull/19422","rel":["nofollow"]},"children":[{"type":"text","value":"#19422"}]},{"type":"text","value":")."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/docs/guide/directory-structure/modules"},"children":[{"type":"text","value":"Read the documentation about local modules"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h2","props":{"id":"Ô∏è-restarting-nuxt"},"children":[{"type":"text","value":"‚ôªÔ∏è Restarting Nuxt"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can add files to the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"watch"}]},{"type":"text","value":" array to automatically restart the server ("},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/pull/19530","rel":["nofollow"]},"children":[{"type":"text","value":"#19530"}]},{"type":"text","value":"). This is likely to be particularly useful for module authors. You can also trigger a restart of the Nuxt server with the new "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"restart"}]},{"type":"text","value":" hook ("},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/pull/19084","rel":["nofollow"]},"children":[{"type":"text","value":"#19084"}]},{"type":"text","value":")."}]},{"type":"element","tag":"h2","props":{"id":"performance-improvements"},"children":[{"type":"text","value":"üî• Performance improvements"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We've increased static asset maxAge to 1 year as a matter of best practice ("},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/pull/19335","rel":["nofollow"]},"children":[{"type":"text","value":"#19335"}]},{"type":"text","value":"), and support tree-shaking more of your build ("},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/pull/19508","rel":["nofollow"]},"children":[{"type":"text","value":"#19508"}]},{"type":"text","value":")."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"nuxt-performance-improvements","src":"https://user-images.githubusercontent.com/28706372/224999169-6c047cca-9a5c-4637-8e4d-be6268964e08.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We also now support preloading "},{"type":"element","tag":"a","props":{"href":"/docs/api/components/nuxt-link"},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<NuxtLink>"}]}]},{"type":"text","value":" with a route in object-syntax ("},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/pull/19120","rel":["nofollow"]},"children":[{"type":"text","value":"#19120"}]},{"type":"text","value":"):"}]},{"type":"element","tag":"pre","props":{"className":"language-html shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"<NuxtLink :to=\"{ name: 'home', query: { year: '2023' } }\">Home</NuxtLink>\n","language":"html","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178"},"children":[{"type":"text","value":"NuxtLink"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#9C3EDA;--shiki-default:#9C3EDA;--shiki-dark:#C792EA"},"children":[{"type":"text","value":" :to"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":"{ name: 'home', query: { year: '2023' } }"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":"Home"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178"},"children":[{"type":"text","value":"NuxtLink"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":">\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We also track how long it takes each module you use to perform its setup, and warn if it takes too long. You can see all these values by running your dev server with "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"DEBUG=1"}]},{"type":"text","value":" ("},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/pull/18648","rel":["nofollow"]},"children":[{"type":"text","value":"#18648"}]},{"type":"text","value":")."}]},{"type":"element","tag":"pre","props":{"className":"language-sh shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"DEBUG=1 npx nuxt dev\n‚Ñπ Module pages took 1.5ms to setup.\n‚Ñπ Module meta took 3.15ms to setup\n‚Ñπ Module components took 4.5ms to setup.\n...\n","language":"sh","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":"DEBUG"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#F76D47;--shiki-default:#F76D47;--shiki-dark:#F78C6C"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B"},"children":[{"type":"text","value":" npx"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":" nuxt"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":" dev\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B"},"children":[{"type":"text","value":"‚Ñπ"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":" Module"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":" pages"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":" took"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":" 1.5ms"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":" to"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":" setup.\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B"},"children":[{"type":"text","value":"‚Ñπ"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":" Module"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":" meta"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":" took"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":" 3.15ms"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":" to"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":" setup\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#E2931D;--shiki-default:#E2931D;--shiki-dark:#FFCB6B"},"children":[{"type":"text","value":"‚Ñπ"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":" Module"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":" components"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":" took"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":" 4.5ms"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":" to"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#91B859;--shiki-default:#91B859;--shiki-dark:#C3E88D"},"children":[{"type":"text","value":" setup.\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF"},"children":[{"type":"text","value":"...\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can also opt-in to some of Nuxt's internal optimisations by configuring composables to be treeshaken in a particular environment ("},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/pull/19383","rel":["nofollow"]},"children":[{"type":"text","value":"#19383"}]},{"type":"text","value":") or to have magic keys automatically injected ("},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/pull/19490","rel":["nofollow"]},"children":[{"type":"text","value":"#19490"}]},{"type":"text","value":")."}]},{"type":"element","tag":"h2","props":{"id":"error-handling"},"children":[{"type":"text","value":"üêõ Error handling"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We now handle chunk errors by default ("},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/pull/19086","rel":["nofollow"]},"children":[{"type":"text","value":"#19086"}]},{"type":"text","value":"), meaning if your site updates with a redeploy, "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"we automatically handle reloading it on navigation"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To disable this behavior, set "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"experimental.emitRouteChunkError"}]},{"type":"text","value":" option to "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"'manual'"}]},{"type":"text","value":" and handle it yourself with the new "},{"type":"element","tag":"a","props":{"href":"https://nuxt.com/docs/api/utils/reload-nuxt-app","rel":["nofollow"]},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"reloadNuxtApp"}]}]},{"type":"text","value":" composable. Learn more how we implemented in our "},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/blob/main/packages/nuxt/src/app/plugins/chunk-reload.client.ts","rel":["nofollow"]},"children":[{"type":"text","value":"chunk-reload.client.ts plugin"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can also set "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"experimental.restoreState"}]},{"type":"text","value":" to preserve some of your app state across reloads:"}]},{"type":"element","tag":"pre","props":{"className":"language-ts shiki shiki-themes material-theme-lighter material-theme-lighter material-theme-palenight","code":"defineNuxtConfig({\n  experimental: {\n    restoreState: true\n  }\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#6182B8;--shiki-default:#6182B8;--shiki-dark:#82AAFF"},"children":[{"type":"text","value":"defineNuxtConfig"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178"},"children":[{"type":"text","value":"  experimental"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#E53935;--shiki-default:#E53935;--shiki-dark:#F07178"},"children":[{"type":"text","value":"    restoreState"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#FF5370;--shiki-default:#FF5370;--shiki-dark:#FF9CAC"},"children":[{"type":"text","value":" true\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#39ADB5;--shiki-default:#39ADB5;--shiki-dark:#89DDFF"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#90A4AE;--shiki-default:#90A4AE;--shiki-dark:#BABED8"},"children":[{"type":"text","value":")\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We also have a new experimental error handling component: "},{"type":"element","tag":"a","props":{"href":"/docs/api/components/nuxt-client-fallback"},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<NuxtClientFallback>"}]}]},{"type":"text","value":" ("},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/framework/pull/8216","rel":["nofollow"]},"children":[{"type":"text","value":"#8216"}]},{"type":"text","value":") which can capture errors rendering on server, replace them with fallback content, and granularly trigger rerendering the part with an error on the client. This can be enabled with "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"experimental.clientFallback"}]},{"type":"text","value":" - feedback very welcome!"}]},{"type":"element","tag":"h2","props":{"id":"Ô∏è-head-improvements"},"children":[{"type":"text","value":"‚ö°Ô∏è Head improvements"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We've migrated to use "},{"type":"element","tag":"a","props":{"href":"https://github.com/unjs/unhead","rel":["nofollow"]},"children":[{"type":"text","value":"unhead"}]},{"type":"text","value":" directly ("},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/pull/19519","rel":["nofollow"]},"children":[{"type":"text","value":"#19519"}]},{"type":"text","value":") - and automatically tree-shake server-only head composables like "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"useServerHead"}]},{"type":"text","value":" from your client build ("},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/pull/19576","rel":["nofollow"]},"children":[{"type":"text","value":"#19576"}]},{"type":"text","value":"), meaning you can have great SEO without needing to include meta tag logic that's relevant only for crawlers in your client build."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There's also a new "},{"type":"element","tag":"a","props":{"href":"/docs/api/composables/use-head-safe"},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"useHeadSafe"}]}]},{"type":"text","value":" composable that handles sanitising untrusted user input ("},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/pull/19548","rel":["nofollow"]},"children":[{"type":"text","value":"#19548"}]},{"type":"text","value":")."}]},{"type":"element","tag":"h2","props":{"id":"better-logging-in-browser-devtools"},"children":[{"type":"text","value":"ü™µ Better logging in browser DevTools"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Working with the Chrome DevTools team, we've landed a couple of features across the unjs + Nuxt ecosystem meaning we now have first-class support for hiding Nuxt internal stack traces from logs in your (Chromium-based, for now) browser "},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/pull/19243","rel":["nofollow"]},"children":[{"type":"text","value":"#19243"}]},{"type":"text","value":". We also landed a couple of improvements with stacktraces involving Nuxt hooks ("},{"type":"element","tag":"a","props":{"href":"https://github.com/unjs/hookable/pull/69","rel":["nofollow"]},"children":[{"type":"text","value":"unjs/hookable#69"}]},{"type":"text","value":" and "},{"type":"element","tag":"a","props":{"href":"https://github.com/unjs/hookable/pull/68","rel":["nofollow"]},"children":[{"type":"text","value":"unjs/hookable#68"}]},{"type":"text","value":") implementing "},{"type":"element","tag":"a","props":{"href":"https://developer.chrome.com/blog/devtools-modern-web-debugging/#linked-stack-traces","rel":["nofollow"]},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"console.createTask"}]}]},{"type":"text","value":"."}]},{"type":"text","value":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"Before"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"After"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"element","tag":"img","props":{"width":529,"alt":"before-nuxt-console-improvements","src":"https://user-images.githubusercontent.com/28706372/220933126-56d9a0e5-e846-4958-a40a-e528a48bcb32.png"},"children":[]}]},{"type":"element","tag":"td","props":{},"children":[{"type":"element","tag":"img","props":{"width":534,"alt":"after-nuxt-console-improvements","src":"https://user-images.githubusercontent.com/28706372/220932932-932f193b-59a6-4385-8796-a62dcfd59c20.png"},"children":[]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"type-improvements"},"children":[{"type":"text","value":"üí™ Type improvements"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Types for server API routes are now more correct - with non-serialisable types stripped out of the return type ("},{"type":"element","tag":"a","props":{"href":"https://github.com/unjs/nitro/pull/1002","rel":["nofollow"]},"children":[{"type":"text","value":"unjs/nitro#1002"}]},{"type":"text","value":")."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We also now type more of "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"NuxtApp"}]},{"type":"text","value":" and correctly type unknown injections for greater type-safety ("},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/pull/19643","rel":["nofollow"]},"children":[{"type":"text","value":"#19643"}]},{"type":"text","value":")."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"And if you were struggling with correct types when using "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"transform"}]},{"type":"text","value":" + "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"default"}]},{"type":"text","value":" with Nuxt data fetching composables, fear no more - we now infer the types correctly ("},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/pull/19487","rel":["nofollow"]},"children":[{"type":"text","value":"#19487"}]},{"type":"text","value":")."}]},{"type":"element","tag":"h2","props":{"id":"Ô∏è-nitro-enhancements"},"children":[{"type":"text","value":"‚öóÔ∏è Nitro enhancements"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This release comes with Nitro v2.3, which brings lots of improvements of its own. Check out "},{"type":"element","tag":"a","props":{"href":"https://github.com/unjs/nitro/releases/tag/v2.3.0","rel":["nofollow"]},"children":[{"type":"text","value":"the release"}]},{"type":"text","value":" for more info."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We now support "},{"type":"element","tag":"a","props":{"href":"/docs/api/composables/use-app-config"},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"useAppConfig"}]}]},{"type":"text","value":" in nitro server routes ("},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/pull/19489","rel":["nofollow"]},"children":[{"type":"text","value":"#19489"}]},{"type":"text","value":") - a long-awaited change. Now "},{"type":"element","tag":"a","props":{"href":"/docs/api/composables/use-app-config"},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"useAppConfig"}]}]},{"type":"text","value":" is consistently available throughout your app for non-runtime configuration from layers, modules, etc."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We've also added a "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nitro:build:public-assets"}]},{"type":"text","value":" hook to allow modifying assets output from nitro's prerender/build phase ("},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/pull/19638","rel":["nofollow"]},"children":[{"type":"text","value":"#19638"}]},{"type":"text","value":")."}]},{"type":"element","tag":"h2","props":{"id":"Ô∏è-build-changes"},"children":[{"type":"text","value":"üõ†Ô∏è Build changes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As part of moving towards "},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/issues/14146","rel":["nofollow"]},"children":[{"type":"text","value":"first-class support for PNP and pnpm support without "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"--shamefully-hoist"}]}]},{"type":"text","value":", we've dropped support for some internal (deprecated) utilities using CJS resolve patterns ("},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/pull/19537","rel":["nofollow"]},"children":[{"type":"text","value":"#19537"}]},{"type":"text","value":" and "},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/pull/19608","rel":["nofollow"]},"children":[{"type":"text","value":"#19608"}]},{"type":"text","value":")."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We also now resolve dependencies like "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nuxt"}]},{"type":"text","value":", "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"@nuxt/kit"}]},{"type":"text","value":" and more using ESM search-paths. We'll be keeping a close eye on this."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We're also preparing the groundwork for support of new TypeScript Node16 module resolution ("},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/issues/19606","rel":["nofollow"]},"children":[{"type":"text","value":"#19606"}]},{"type":"text","value":"), and as part of this have changed the format of our runtime output (using "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".js"}]},{"type":"text","value":" instead of "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".mjs"}]},{"type":"text","value":" extensions, providing "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"types"}]},{"type":"text","value":" fields for subpath exports, and more)."}]},{"type":"element","tag":"h2","props":{"id":"Ô∏è-custom-config-schema-advanced"},"children":[{"type":"text","value":"üó∫Ô∏è Custom config schema (advanced)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We've been testing out an experimental feature to allow modules and users to extend the Nuxt config schema ("},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/issues/15592","rel":["nofollow"]},"children":[{"type":"text","value":"#15592"}]},{"type":"text","value":"), and we've now enabled this by default ("},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/pull/19172","rel":["nofollow"]},"children":[{"type":"text","value":"#19172"}]},{"type":"text","value":"). We expect this will be particularly useful for module and layer/theme authors, and should result in some nicer DX for their users."}]},{"type":"element","tag":"h2","props":{"id":"changelog"},"children":[{"type":"text","value":"Changelog"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See the full changelog by "},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/compare/v3.2.3...v3.3.0","rel":["nofollow"]},"children":[{"type":"text","value":"comparing the changes"}]},{"type":"text","value":" or checkout the "},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/releases/tag/v3.3.0","rel":["nofollow"]},"children":[{"type":"text","value":"release on GitHub"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We would like to thank all the 28 contributors who helped on this release üíö"}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"local-module-development-dx","depth":2,"text":"‚ú® Local module development DX"},{"id":"Ô∏è-restarting-nuxt","depth":2,"text":"‚ôªÔ∏è Restarting Nuxt"},{"id":"performance-improvements","depth":2,"text":"üî• Performance improvements"},{"id":"error-handling","depth":2,"text":"üêõ Error handling"},{"id":"Ô∏è-head-improvements","depth":2,"text":"‚ö°Ô∏è Head improvements"},{"id":"better-logging-in-browser-devtools","depth":2,"text":"ü™µ Better logging in browser DevTools"},{"id":"type-improvements","depth":2,"text":"üí™ Type improvements"},{"id":"Ô∏è-nitro-enhancements","depth":2,"text":"‚öóÔ∏è Nitro enhancements"},{"id":"Ô∏è-build-changes","depth":2,"text":"üõ†Ô∏è Build changes"},{"id":"Ô∏è-custom-config-schema-advanced","depth":2,"text":"üó∫Ô∏è Custom config schema (advanced)"},{"id":"changelog","depth":2,"text":"Changelog"}]}},"_type":"markdown","_id":"content:7.blog:10.v3-3.md","_source":"content","_file":"7.blog/10.v3-3.md","_extension":"md"}